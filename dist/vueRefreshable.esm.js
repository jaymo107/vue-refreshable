var e={install(e,t={}){const r=t.key||"vue-refreshable-state",s=t.storage||localStorage;e.directive("refreshable",{bind(e,{arg:t},{context:a}){const o=(()=>{let e=s.getItem(r);if(e)try{e=JSON.parse(e)}catch(e){}return e||{}})();Object.keys(o).forEach((e=>{a[t][e]=o[e]}))},unbind:()=>{s.removeItem(r)},update(e,{arg:t},{context:a}){(e=>{s.setItem(r,JSON.stringify(e))})(((e,{elements:t})=>{const r=Object.assign({},e),s=[];for(let e of t)"password"===e.type&&s.push(e.value);for(let e of Object.keys(r))s.includes(r[e])&&delete r[e];return r})(a[t],e))}})}};export default e;
