var e=(e={})=>{const t=e.key||"vue-refreshable-state",r=e.storage||localStorage;return{bind(e,{arg:s},{context:o}){const a=(()=>{let e=r.getItem(t);if(e)try{e=JSON.parse(e)}catch(e){}return e||{}})();Object.keys(a).forEach((e=>{o[s][e]=a[e]}))},unbind:()=>{r.removeItem(t)},update(e,{arg:s},{context:o}){(e=>{r.setItem(t,JSON.stringify(e))})(((e,{elements:t})=>{const r={...e},s=[];for(const e of t)"password"===e.type&&s.push(e.value);return Object.keys(r).forEach((e=>{s.includes(r[e])&&delete r[e]})),r})(o[s],e))}}};var t={install(t,r={}){const s=new e(r);console.log(s),t.directive("refreshable",s)}};export default t;
