class e{constructor(e={}){this.storage=e.storage||localStorage,this.key=e.key||"vue-refreshable-state"}set(e){this.storage.setItem(this.key,JSON.stringify(e))}get(){let e=this.storage.getItem(this.key);if(e)try{e=JSON.parse(e)}catch(e){}return e||{}}clear(){this.storage.removeItem(this.key)}}class t{constructor(t={}){this.storage=new e({storage:t.storage,key:t.key})}bind(e,{arg:t},{context:s}){const r=this.storage.get();Object.keys(r).forEach((e=>{s[t][e]=r[e]}))}unbind(){this.storage.clear()}update(e,{arg:t},{context:s}){const r=((e,{elements:t})=>{const s={...e},r=[];for(const e of t)"password"===e.type&&r.push(e.value);return Object.keys(s).forEach((e=>{r.includes(s[e])&&delete s[e]})),s})(s[t],e);this.storage.set(r)}}var s={install(e,s={}){const r=new t(s);e.directive("refreshable",r.bind(r))}};export default s;
//# sourceMappingURL=vueRefreshable.esm.js.map
