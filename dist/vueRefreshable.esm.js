class e{constructor(e={}){this.storage=e.storage||localStorage,this.key=e.key||"vue-refreshable-state"}set(e){this.storage.setItem(this.key,JSON.stringify(e))}get(){let e=this.storage.getItem(this.key);if(e)try{e=JSON.parse(e)}catch(e){}return e||{}}clear(){this.storage.removeItem(this.key)}}var t=(t={})=>{const s=new e({storage:t.storage,key:t.key});return{bind(e,{arg:t},{context:r}){const a=s.get();Object.keys(a).forEach((e=>{r[t][e]=a[e]}))},unbind:s.clear.bind(s),update(e,{arg:t},{context:r}){const a=((e,{elements:t})=>{const s={...e},r=[];for(const e of t)"password"===e.type&&r.push(e.value);return Object.keys(s).forEach((e=>{r.includes(s[e])&&delete s[e]})),s})(r[t],e);s.set(a)}}};var s={install(e,s={}){const r=t(s);e.directive("refreshable",r)}};export default s;
