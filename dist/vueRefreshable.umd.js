!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueRefreshable={})}(this,(function(e){"use strict";class t{constructor(e={}){this.storage=e.storage||localStorage,this.key=e.key||"vue-refreshable-state"}set(e){this.storage.setItem(this.key,JSON.stringify(e))}get(){let e=this.storage.getItem(this.key);if(e)try{e=JSON.parse(e)}catch(e){}return e||{}}clear(){this.storage.removeItem(this.key)}}var s=(e={})=>{const s=new t({storage:e.storage,key:e.key});return{bind(e,{arg:t},{context:r}){const o=s.get();Object.keys(o).forEach((e=>{r[t][e]=o[e]}))},unbind:s.clear.bind(s),update(e,{arg:t},{context:r}){const o=((e,{elements:t})=>{const s={...e},r=[];for(const e of t)"password"===e.type&&r.push(e.value);return Object.keys(s).forEach((e=>{r.includes(s[e])&&delete s[e]})),s})(r[t],e);s.set(o)}}};var r={install(e,t={}){const r=s(t);e.directive("refreshable",r)}};e.default=r,Object.defineProperty(e,"__esModule",{value:!0})}));
